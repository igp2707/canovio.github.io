---
import arrow from '../assets/arrow-72.png'

import "@splidejs/splide/css"
import { Splide, SplideTrack, SplideSlide } from "astro-splide";

const options = {
    type: "loop",
    perPage: 3,
    perMove: 1,
    autoplay: true,
    interval: 2000,
    pagination: false,
    arrows: false,
    gap: "1rem",
    breakpoints: {
        640: {
            perPage: 1,
        },
        768: {
            perPage: 2,
        },
    },
}

const works = [
    { 
        src: '/images/category/acp/1.jpeg',
        url: 'acp' 
    },
    { 
        src: '/images/category/aluminium/1.jpeg',
        url: 'aluminium' 
    },
    { 
        src: '/images/category/kamar-mandi/1.jpeg',
        url: 'kaca' 
    },
    { 
        src: '/images/category/cubical-toilet/1.jpeg',
        url: 'toilet' 
    },
    { 
        src: '/images/category/kanopi/1.jpeg',
        url: 'kanopi' 
    },
    { 
        src: '/images/category/pintu-frameless/2.jpeg',
        url: 'pintu' 
    },
    { 
        src: '/images/category/railing/2.jpeg',
        url: 'railing' 
    },
]
---

<section id="work" class="w-screen h-auto bg-[#ebeceb] py-12 lg:py-24 px-4">
    <div class="container mx-auto">
        <div class="flex gap-4 flex-col-reverse lg:flex-row">
            <div class="w-full lg:w-2/3 overflow-hidden">
                <Splide
                    class='not-content'
                    options={ options }
                    aria-labelledby="autoplay-example-heading"
                    hasTrack={ false }
                    data-aos="fade-up"
                    data-aos-delay="100"
                    >
                    <div class="relative w-full h-auto">
                        <SplideTrack>
                            { works.map(work  =>  
                                <SplideSlide>
                                    <a href={Astro.site + "category/" + work.url} class="flex justify-center items-center w-full h-96 rounded-tl-4xl rounded-br-4xl shadow-lg relative group overflow-hidden">
                                        <img src={work.src} alt="work" class="w-full h-auto lg:h-full lg:w-auto" />
                                        <div class="absolute top-4 right-4 w-12 h-12 bg-[#ebeceb] rounded-2xl rounded-tr-none">
                                            <img src={arrow.src} alt="panah-1" class="transition-transform duration-500 group-hover:rotate-360" />
                                        </div>
                                    </a>
                                </SplideSlide>
                            )}
                        </SplideTrack>
                    </div>
                </Splide>
            </div>
            <div class="flex flex-col lg:w-1/3 w-full text-gray-800">
                <div class="overflow-hidden w-full pb-2">
                    <h1 class="text-4xl lg:text-6xl font-nunito" data-aos="fade-up">
                        Bagaimana Hasil dari Kinerja Kami?
                    </h1>
                </div>
                <div class="overflow-hidden w-full mt-4 mb-4 lg:mt-8 lg:mb-0">
                    <p class="text-sm lg:text-base font-comfortaa" data-aos="fade-up" data-aos-delay="100">
                        Setiap proyek dikerjakan dengan standar tinggi untuk memastikan kualitas dan kepuasan klien.
                    </p>
                </div>
                <div class="overflow-hidden mt-4 mb-4 lg:mt-8 lg:mb-0 hidden lg:block">
                    <a href={Astro.site + "category/aluminium"} class="inline-block bg-[#0c1b33] text-[#ebeceb] border-2 border-transparent px-6 py-3 rounded-tl-2xl rounded-br-2xl hover:bg-[#363f48] transition-colors font-comfortaa text-sm" data-aos="fade-up" data-aos-delay="200">
                        Lihat lainnya
                    </a>
                </div> 
            </div>
        </div>
    </div>
</section>